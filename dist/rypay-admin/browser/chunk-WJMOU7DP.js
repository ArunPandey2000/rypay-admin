import{a as B}from"./chunk-3OWFQPHG.js";import{b as S,d as D,g as T,t as F}from"./chunk-537PRCH2.js";import{c as Q}from"./chunk-CEYNZ4QU.js";import{E as I,F as p,G as d,H as E,Ka as u,L as f,La as R,Ma as H,Oa as w,Pa as b,Qa as C,U as l,_,da as h,ga as m,ia as P,kb as k,lb as v,ra as o,rb as N,sa as s,ta as V,xa as x,ya as c,za as g}from"./chunk-3F6BZBUY.js";function A(a,y){if(a&1){let t=x();o(0,"li")(1,"a",6),c("click",function(){let e=p(t).$implicit,i=g();return d(i.goToPage(e))}),u(2),s()()}if(a&2){let t=y.$implicit,n=g();l(),P("text-blue-600",n.currentPage===t)("bg-blue-50",n.currentPage===t)("hover:bg-blue-100",n.currentPage!==t)("text-gray-500",n.currentPage!==t),l(),H(" ",t," ")}}var te=(()=>{class a{constructor(){this.currentPage=1,this.totalPages=1,this.visiblePages=[],this.pageChange=new f}ngOnInit(){this.updateVisiblePages()}ngOnChanges(){this.updateVisiblePages()}updateVisiblePages(){let t=[1,2],n=[this.totalPages-1,this.totalPages],e=[];if(this.totalPages<=5)e=Array.from({length:this.totalPages},(i,r)=>r+1);else{e=[...t],this.currentPage>4&&e.push("...");let i=Math.max(3,this.currentPage-1),r=Math.min(this.totalPages-2,this.currentPage+1);for(let M=i;M<=r;M++)e.push(M);this.currentPage<this.totalPages-3&&e.push("..."),e=[...e,...n]}this.visiblePages=Array.from(new Set(e)).sort((i,r)=>typeof i=="number"&&typeof r=="number"?i-r:0)}get disablePrevious(){return this.currentPage===1}get disableNext(){return this.currentPage===this.totalPages}goToPrevious(){this.currentPage>1&&(this.currentPage--,this.updateVisiblePages(),this.pageChange.emit(this.currentPage))}goToNext(){this.currentPage<this.totalPages&&(this.currentPage++,this.updateVisiblePages(),this.pageChange.emit(this.currentPage))}goToPage(t){typeof t=="number"&&t>=1&&t<=this.totalPages&&(this.currentPage=t,this.updateVisiblePages(),this.pageChange.emit(this.currentPage))}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275cmp=_({type:a,selectors:[["app-pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},features:[I],decls:10,vars:5,consts:[[1,"sticky","bottom-0","z-10","bg-white","shadow-md"],[1,"overflow-x-auto"],[1,"inline-flex","text-sm"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","border","border-gray-300","dark:border-gray-700","dark:bg-gray-700","dark:text-white",3,"click"]],template:function(n,e){n&1&&(o(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"a",3),c("click",function(){return e.goToPrevious()}),u(5,"Previous"),s()(),h(6,A,3,9,"li",4),o(7,"li")(8,"a",5),c("click",function(){return e.goToNext()}),u(9,"Next"),s()()()()()),n&2&&(l(4),P("disabled",e.disablePrevious),l(2),m("ngForOf",e.visiblePages),l(2),P("disabled",e.disableNext))},dependencies:[N,k],encapsulation:2})}}return a})();function Y(a,y){if(a&1){let t=x();o(0,"div",3)(1,"div",4)(2,"button",5),c("click",function(){p(t);let e=g();return d(e.selectOption("today"))}),u(3," Today "),s(),o(4,"button",5),c("click",function(){p(t);let e=g();return d(e.selectOption("yesterday"))}),u(5," Yesterday "),s(),o(6,"button",5),c("click",function(){p(t);let e=g();return d(e.selectOption("lastWeek"))}),u(7," Last Week "),s(),o(8,"button",5),c("click",function(){p(t);let e=g();return d(e.selectOption("lastMonth"))}),u(9," Last Month "),s(),o(10,"button",5),c("click",function(){p(t);let e=g();return d(e.selectOption("year"))}),u(11," Year "),s()(),o(12,"div",6)(13,"h3",7),u(14,"Custom Date Range"),s(),o(15,"div",8)(16,"label",9),u(17,"From:"),s(),o(18,"input",10),C("ngModelChange",function(e){p(t);let i=g();return b(i.customFrom,e)||(i.customFrom=e),d(e)}),s(),o(19,"label",9),u(20,"To:"),s(),o(21,"input",10),C("ngModelChange",function(e){p(t);let i=g();return b(i.customTo,e)||(i.customTo=e),d(e)}),s(),o(22,"button",11),c("click",function(){p(t);let e=g();return d(e.applyCustomRange())}),u(23," Apply "),s()()()()}if(a&2){let t=g();l(18),w("ngModel",t.customFrom),l(3),w("ngModel",t.customTo)}}var W=(()=>{class a{constructor(){this.showPicker=!1,this.customFrom=new Date,this.customTo=new Date,this.selectedRange={from:new Date,to:new Date},this.rangeSelected=new f}togglePicker(){this.showPicker=!this.showPicker}selectOption(t){let n=new Date;new Date(n).setDate(n.getDate()-1);let i=new Date,r=new Date;debugger;switch(t){case"today":i=new Date,i.setHours(0,0,0,0),r=new Date,r.setHours(23,59,59,999);break;case"yesterday":i=new Date,i.setDate(i.getDate()-1),i.setHours(0,0,0,0),r=new Date,r.setDate(r.getDate()-1),r.setHours(23,59,59,999);break;case"lastWeek":i=new Date,i.setDate(i.getDate()-7),i.setHours(0,0,0,0),r=new Date,r.setHours(23,59,59,999);break;case"lastMonth":i=new Date,i.setMonth(i.getMonth()-1),i.setDate(1),i.setHours(0,0,0,0),r=new Date,r.setMonth(r.getMonth()-1),r.setDate(new Date(r.getFullYear(),r.getMonth()+1,0).getDate()),r.setHours(23,59,59,999);break;case"year":i=new Date(n.getFullYear(),0,1),i.setHours(0,0,0,0),r=new Date(n.getFullYear(),11,31),r.setHours(23,59,59,999);break}this.selectedRange={from:i,to:r},console.log("Selected Range:",this.selectedRange),this.rangeSelected.emit(this.selectedRange),this.showPicker=!1}applyCustomRange(){this.customFrom&&this.customTo?(this.selectedRange={from:this.customFrom,to:this.customTo},console.log("Custom Range:",this.selectedRange),this.rangeSelected.emit(this.selectedRange),this.showPicker=!1):alert("Please select valid dates.")}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275cmp=_({type:a,selectors:[["app-date-range-picker"]],outputs:{rangeSelected:"rangeSelected"},decls:4,vars:1,consts:[["clickOutside","",1,"relative",3,"clickOutside"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700",3,"click"],["class","absolute top-12 left-0 z-10 p-4 bg-white shadow-lg rounded-md max-w-lg flex",4,"ngIf"],[1,"absolute","top-12","left-0","z-10","p-4","bg-white","shadow-lg","rounded-md","max-w-lg","flex"],[1,"flex-none","w-48","space-y-2"],[1,"w-full","px-4","py-2","text-sm","bg-blue-500","text-white","rounded-md","hover:bg-blue-600",3,"click"],[1,"flex-grow","pl-4"],[1,"text-lg","font-semibold","mb-4"],[1,"space-y-2"],[1,"block","text-sm","font-medium","text-gray-700"],["type","date",1,"w-full","px-3","py-2","border","rounded-md","focus:ring","focus:ring-blue-300",3,"ngModelChange","ngModel"],[1,"w-full","mt-4","px-4","py-2","bg-green-500","text-white","rounded-md","hover:bg-green-600",3,"click"]],template:function(n,e){n&1&&(o(0,"div",0),c("clickOutside",function(){return e.showPicker=!1}),o(1,"button",1),c("click",function(){return e.togglePicker()}),u(2," Date Range "),s(),h(3,Y,24,2,"div",2),s()),n&2&&(l(3),m("ngIf",e.showPicker))},dependencies:[F,S,D,T,v,B],encapsulation:2})}}return a})();function j(a,y){a&1&&(o(0,"div",4),E(),o(1,"svg",5),V(2,"path",6),s()())}function G(a,y){if(a&1){let t=x();o(0,"button",7),c("click",function(){p(t);let e=g();return d(e.clearSearch())}),E(),o(1,"svg",5),V(2,"path",8),s()()}}var L=(()=>{class a{constructor(){this.searchQuery="",this.search=new f}onSearch(){this.search.emit(this.searchQuery)}clearSearch(){this.searchQuery="",this.search.emit(this.searchQuery)}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275cmp=_({type:a,selectors:[["app-search-bar"]],inputs:{searchQuery:"searchQuery"},outputs:{search:"search"},decls:4,vars:3,consts:[[1,"relative","w-full","max-w-md","rounded-lg"],["class","absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700 pointer-events-none",4,"ngIf"],["type","text","placeholder","Search...",1,"w-full","pl-10","pr-10","py-2","border","rounded-md","shadow-sm","focus:ring","focus:ring-blue-300","focus:outline-none",3,"ngModelChange","input","ngModel"],["class","absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700",3,"click",4,"ngIf"],[1,"absolute","inset-y-0","right-3","flex","items-center","text-gray-500","hover:text-gray-700","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.9 14.32a8 8 0 111.414-1.414l4.387 4.386a1 1 0 01-1.414 1.415l-4.387-4.387zM8 14a6 6 0 100-12 6 6 0 000 12z","clip-rule","evenodd"],[1,"absolute","inset-y-0","right-3","flex","items-center","text-gray-500","hover:text-gray-700",3,"click"],["fill-rule","evenodd","d","M6.293 6.293a1 1 0 011.414 0L10 8.586l2.293-2.293a1 1 0 111.414 1.414L11.414 10l2.293 2.293a1 1 0 01-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 01-1.414-1.414L8.586 10 6.293 7.707a1 1 0 010-1.414z","clip-rule","evenodd"]],template:function(n,e){n&1&&(o(0,"div",0),h(1,j,3,0,"div",1),o(2,"input",2),C("ngModelChange",function(r){return b(e.searchQuery,r)||(e.searchQuery=r),r}),c("input",function(){return e.onSearch()}),s(),h(3,G,3,0,"button",3),s()),n&2&&(l(),m("ngIf",!e.searchQuery),l(),w("ngModel",e.searchQuery),l(),m("ngIf",e.searchQuery))},dependencies:[F,S,D,T,v],encapsulation:2})}}return a})();function q(a,y){if(a&1&&(o(0,"h3",11),u(1),s()),a&2){let t=g();l(),R(t.title)}}function J(a,y){if(a&1&&(o(0,"option",12),u(1),s()),a&2){let t=y.$implicit;m("value",t.value),l(),R(t.label)}}var ke=(()=>{class a{constructor(){this.title="",this.types=[],this.headerFilter=new f,this.filter={search:"",from:new Date("01-01-1990"),to:new Date,sort:"DESC",type:""}}onSearchChange(t){this.filter.search=t,this.headerFilter.emit(this.filter)}onTypeChange(t){this.filter.type=t.target?.value,this.headerFilter.emit(this.filter)}onSortChange(t){this.filter.sort=t.target?.value,this.headerFilter.emit(this.filter)}selectRange(t){this.filter.to=t.to,this.filter.from=t.from,this.headerFilter.emit(this.filter)}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275cmp=_({type:a,selectors:[["app-header-filter"]],inputs:{title:"title",types:"types"},outputs:{headerFilter:"headerFilter"},decls:13,vars:5,consts:[[1,"flex","flex-wrap","items-center","justify-between","gap-2","py-3","px-5"],["class","text-sm font-medium text-muted-foreground",4,"ngIf"],[1,"flex","flex-wrap","gap-2"],[3,"search","searchQuery"],[1,"gap-2",3,"rangeSelected"],[1,"flex","flex-wrap","gap-2.5"],["name","status",1,"w-28","p-2","text-muted-foreground",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],["name","order",1,"w-28","p-2","text-muted-foreground",3,"change","value"],["value","DESC"],["value","ASC"],[1,"text-sm","font-medium","text-muted-foreground"],[3,"value"]],template:function(n,e){n&1&&(o(0,"div",0),h(1,q,2,1,"h3",1),o(2,"div",2)(3,"app-search-bar",3),c("search",function(r){return e.onSearchChange(r)}),s(),o(4,"app-date-range-picker",4),c("rangeSelected",function(r){return e.selectRange(r)}),s(),o(5,"div",5)(6,"select",6),c("change",function(r){return e.onTypeChange(r)}),h(7,J,2,2,"option",7),s(),o(8,"select",8),c("change",function(r){return e.onSortChange(r)}),o(9,"option",9),u(10,"Newest"),s(),o(11,"option",10),u(12,"Oldest"),s()()()()()),n&2&&(l(),m("ngIf",e.title),l(2),m("searchQuery",e.filter.search),l(3),m("value",e.filter.type),l(),m("ngForOf",e.types),l(),m("value",e.filter.sort))},dependencies:[W,v,k,Q,L],encapsulation:2})}}return a})();export{ke as a,te as b};
