import{$ as M,A as E,Aa as L,B as R,Ba as N,C as w,O as o,P as U,X as k,Y as D,_ as I,ab as V,fb as l,hb as O,i as g,j as v,k as p,o as y,p as m,q as S,s as b,v as u,vb as T,w as C,x as A,y as B,z as h}from"./chunk-3F6BZBUY.js";var _=["*"],a=class{},j=(()=>{class r extends a{constructor(e){super(),this.http=e}getSvg(e){return this.http.get(e,{responseType:"text"})}static{this.\u0275fac=function(t){return new(t||r)(B(T))}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac})}}return r})(),F=new A("SERVER_URL"),c=(()=>{class r{constructor(){this.loader=h(a),this.serverUrl=h(F,{optional:!0}),this.document=h(O),this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map}addSvg(e,t){if(!this.iconsByUrl.has(e)){let s=this.document.createElement("DIV");s.innerHTML=t;let i=s.querySelector("svg");this.iconsByUrl.set(e,i)}}loadSvg(e,t=e){if(this.serverUrl&&e.match(/^(http(s)?):/)===null&&(e=this.serverUrl+e,t=e),this.iconsByUrl.has(t))return g(this.iconsByUrl.get(t));if(this.iconsLoadingByUrl.has(t))return this.iconsLoadingByUrl.get(t);let s=this.loader.getSvg(e).pipe(p(i=>{let n=this.document.createElement("DIV");return n.innerHTML=i,n.querySelector("svg")}),b(i=>this.iconsByUrl.set(t,i)),y(i=>(console.error(i),v(i))),m(()=>this.iconsLoadingByUrl.delete(t)),S());return this.iconsLoadingByUrl.set(t,s),s}getSvgByName(e){return this.iconsByUrl.has(e)?g(this.iconsByUrl.get(e)):this.iconsLoadingByUrl.has(e)?this.iconsLoadingByUrl.get(e):v(`No svg with name '${e}' has been loaded`)}unloadSvg(e){this.iconsByUrl.has(e)&&this.iconsByUrl.delete(e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac})}}return r})();function $(r){return r||new c}var x={provide:c,deps:[[new E,new R,c]],useFactory:$},d=class{constructor(){this.loaded=!1}},X=(()=>{class r{constructor(){this.element=h(U),this.differs=h(V),this.renderer=h(k),this.iconReg=h(c),this.src=o(),this.name=o(),this.stretch=o(!1),this.applyClass=o(!1),this.svgClass=o(),this.klass=o(void 0,{alias:"class"}),this.viewBox=o(),this.svgAriaLabel=o(),this.svg=D(0),this.svgStyle=o(),this.helper=new d,l(()=>{(this.src()||this.name())&&(this.destroy(),this.init(this.src(),this.name()))}),l(()=>{let s=this.viewBox();this.svg()&&this.updateViewBox(s)}),l(()=>{let s=this.svgStyle()||{};this.svg()&&this.applyChanges(this.helper.differ.diff(s))}),l(()=>{let s=this.svg();this.applyClass()?this.setClass(this.elemSvg,null,this.klass()):this.setClass(this.elemSvg,this.klass(),null)});let e;l(()=>{let s=this.svg();this.setClass(this.elemSvg,e,this.svgClass()),e=this.svgClass()});let t;l(()=>{let s=this.svg(),i=this.element.nativeElement;this.setClass(i,t,this.klass()),this.setClass(this.elemSvg,t,this.applyClass()?this.klass():null),t=this.klass()}),l(()=>{let s=this.svg();this.doAria(this.svgAriaLabel())}),l(()=>{let s=this.svg();this.stylize(this.stretch())})}ngOnDestroy(){this.destroy()}get elemSvg(){return this.element.nativeElement.firstChild}init(e,t){if(e&&t){let s=this.iconReg.loadSvg(e,t);s&&(this.helper.icnSub=s.subscribe(i=>this.initSvg(i)))}else if(t){let s=this.iconReg.getSvgByName(t);s&&(this.helper.icnSub=s.subscribe(i=>this.initSvg(i)))}else if(e){let s=this.iconReg.loadSvg(e);s&&(this.helper.icnSub=s.subscribe(i=>this.initSvg(i)))}else this.element.nativeElement.innerHTML="",this.svg.set(0)}initSvg(e){!this.helper.loaded&&e&&this.setSvg(e)}destroy(){this.helper.icnSub?.unsubscribe(),this.helper=new d,this.helper.differ=this.differs.find({}).create()}setSvg(e){if(!this.helper.loaded&&e){this.helper.svg=e;let t=e.cloneNode(!0),s=this.element.nativeElement;s.innerHTML="",this.renderer.appendChild(s,t),this.helper.loaded=!0,this.copyNgContentAttribute(s,t),this.svg.update(i=>i+1)}}updateViewBox(e){if(e){let t=this.elemSvg;if(e==="auto"){let s=t.getAttribute("width"),i=t.getAttribute("height");if(i&&s){let n=`0 0 ${s} ${i}`;this.renderer.setAttribute(t,"viewBox",n),this.renderer.removeAttribute(t,"width"),this.renderer.removeAttribute(t,"height")}}else e!==""&&(this.renderer.setAttribute(t,"viewBox",e),this.renderer.removeAttribute(t,"width"),this.renderer.removeAttribute(t,"height"))}}copyNgContentAttribute(e,t){let s=e.attributes,i=s.length;for(let n=0;n<i;n+=1){let f=s.item(n);if(f&&f.name.startsWith("_ngcontent")){this.setNgContentAttribute(t,f.name);break}}}setNgContentAttribute(e,t){this.renderer.setAttribute(e,t,"");let s=e.childNodes.length;for(let i=0;i<s;i+=1){let n=e.childNodes[i];n instanceof Element&&this.setNgContentAttribute(n,t)}}stylize(e){if(this.helper.svg){let t=this.element.nativeElement.firstChild;e===!0?this.renderer.setAttribute(t,"preserveAspectRatio","none"):e===!1&&this.renderer.removeAttribute(t,"preserveAspectRatio")}}applyChanges(e){e&&(e.forEachRemovedItem(t=>this.setStyle(t.key,null)),e.forEachAddedItem(t=>this.setStyle(t.key,t.currentValue)),e.forEachChangedItem(t=>this.setStyle(t.key,t.currentValue)))}setStyle(e,t){let[s,i]=e.split(".");t=t!==null&&i?`${t}${i}`:t;let n=this.elemSvg;t!==null?this.renderer.setStyle(n,s,t):this.renderer.removeStyle(n,s)}setClass(e,t,s){if(e){if(t){let i=(Array.isArray(t)?t:t.split(" ")).filter(n=>n);for(let n of i)this.renderer.removeClass(e,n)}if(s){let i=(Array.isArray(s)?s:s.split(" ")).filter(n=>n);for(let n of i)this.renderer.addClass(e,n)}}}doAria(e){if(e!==void 0){let t=this.element.nativeElement.firstChild;t&&!t.hasAttribute("aria-label")&&(e===""?(this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.removeAttribute(t,"aria-label")):(this.renderer.removeAttribute(t,"aria-hidden"),this.renderer.setAttribute(t,"aria-label",e)))}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=I({type:r,selectors:[["svg-icon"]],inputs:{src:[1,"src"],name:[1,"name"],stretch:[1,"stretch"],applyClass:[1,"applyClass"],svgClass:[1,"svgClass"],klass:[1,"class","klass"],viewBox:[1,"viewBox"],svgAriaLabel:[1,"svgAriaLabel"],svgStyle:[1,"svgStyle"]},ngContentSelectors:_,decls:1,vars:0,template:function(t,s){t&1&&(L(),N(0))},encapsulation:2,changeDetection:0})}}return r})();function Z(r={}){return w([x,r.loader||{provide:a,useClass:j}])}var tt=(()=>{class r{static forRoot(e={}){return{ngModule:r,providers:[x,e.loader||{provide:a,useClass:j}]}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=M({type:r})}static{this.\u0275inj=C({})}}return r})();export{X as a,Z as b,tt as c};
