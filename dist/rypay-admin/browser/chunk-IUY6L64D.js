import{a as T}from"./chunk-BFI3ZEYA.js";import{a as ke,b as O,c as _,d as V,e as W,f as K,g as R,h as q,i as X,j as Te,k as Me,l as Be,m as Pe,n as Ae,o as Fe,p as Le,q as Oe,r as Z,s as Ve,t as Ue,u as je}from"./chunk-537PRCH2.js";import{a as L,c as j}from"./chunk-CEYNZ4QU.js";import"./chunk-2UYBOCTF.js";import{$ as xe,Aa as we,Ba as ae,Db as Ne,F as w,G as C,H as be,I as he,Ib as se,Ka as r,L as y,La as h,Ma as b,Oa as D,Pa as N,Qa as k,T as H,Ta as J,U as l,Ua as P,V as v,Va as Ce,Wa as M,Ya as F,Za as le,_ as x,a as re,b as ue,d as I,da as g,f as ce,ga as s,hb as Se,ib as A,kb as Ee,la as ye,lb as S,mb as Ie,nb as De,pb as U,qb as z,ra as n,rb as $,sa as t,ta as m,ua as ve,v as fe,va as _e,w as ge,xa as E,ya as c,za as u}from"./chunk-3F6BZBUY.js";var Q=(()=>{class i{constructor(){this.balanceUpdated=new ce}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=fe({token:i,factory:i.\u0275fac})}}return i})();var ee=(()=>{class i{constructor(){this.fullName="",this.cardNumberLast4Dists="",this.validity="",this.expiry=""}get ExpiryDate(){return this.expiry?this.expiry:new Date().setFullYear(new Date().getFullYear()+24)}get ValidDate(){return this.expiry?this.expiry:new Date}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=x({type:i,selectors:[["app-card"]],inputs:{fullName:"fullName",cardNumberLast4Dists:"cardNumberLast4Dists",validity:"validity",expiry:"expiry"},decls:36,vars:10,consts:[[1,"bg-white","flex","justify-center","items-center"],[1,"w-96","h-56","m-auto","bg-red-100","rounded-xl","relative","text-white","shadow-2xl","transition-transform","transform","hover:scale-110"],["src","https://i.imgur.com/kGkSg1v.png",1,"relative","object-cover","w-full","h-full","rounded-xl"],[1,"w-full","px-8","absolute","top-8"],[1,"flex","justify-between"],[1,""],[1,"font-light"],[1,"font-medium","tracking-widest"],["src","https://i.imgur.com/bbPHJVe.png",1,"w-14","h-14"],[1,"pt-1"],[1,"font-medium","tracking-more-wider"],[1,"pt-6","pr-6"],[1,"font-light","text-xs"],[1,"font-medium","tracking-wider","text-sm"],[1,"font-light","text-xs","text-xs"],[1,"font-bold","tracking-more-wider","text-sm"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"div")(2,"div",1),m(3,"img",2),n(4,"div",3)(5,"div",4)(6,"div",5)(7,"p",6),r(8," Name "),t(),n(9,"p",7),r(10),t()(),m(11,"img",8),t(),n(12,"div",9)(13,"p",6),r(14," Card Number "),t(),n(15,"p",10),r(16),t()(),n(17,"div",11)(18,"div",4)(19,"div",5)(20,"p",12),r(21," Valid "),t(),n(22,"p",13),r(23),M(24,"date"),t()(),n(25,"div",5)(26,"p",14),r(27," Expiry "),t(),n(28,"p",13),r(29),M(30,"date"),t()(),n(31,"div",5)(32,"p",12),r(33," CVV "),t(),n(34,"p",15),r(35," \xB7\xB7\xB7 "),t()()()()()()()()),a&2&&(l(10),b(" ",o.fullName," "),l(6),b(" **** **** **** ",o.cardNumberLast4Dists," "),l(7),b(" ",F(24,4,o.ValidDate,"MM/YY")," "),l(6),b(" ",F(30,7,o.ExpiryDate,"MM/YY")," "))},dependencies:[$,U],encapsulation:2})}}return i})();var de="btn-aqua-blue",te={"primary-blue":{showLoader:!1,buttonClasses:"btn-primary-blue"},"primary-white":{showLoader:!1,buttonClasses:"btn-primary-white"},"secondary-white":{showLoader:!1,buttonClasses:"btn-secondary-white"},"secondary-blue":{showLoader:!1,buttonClasses:"btn-secondary-blue"},failed:{showLoader:!1,buttonClasses:de},pending:{showLoader:!0,buttonClasses:de}},Re=["btn-primary-blue","btn-primary-white","btn-secondary-white","btn-secondary-blue",de];var Xe=(i,p,e)=>({"h-6 3xl:h-8":i,"justify-center":p,"loader-active":e});function Ze(i,p){i&1&&m(0,"span",4)}function et(i,p){if(i&1&&m(0,"svg-icon",5),i&2){let e=u();s("src",e.buttonIcon)}}function tt(i,p){if(i&1&&(n(0,"span",6),r(1),t()),i&2){let e=u();l(),h(e.label)}}var qe=(()=>{class i{constructor(){this.BTN_DISABLED_CLASS="btn-disabled",this.btnCustomHeight=!1,this.showLoader=!1,this.buttonClickedEvent=new y}set isDisabled(e){this.disabledCheck=e,this.buttonClasses=e?`${this.buttonClasses} ${this.BTN_DISABLED_CLASS}`:this.buttonClasses?.replace(this.BTN_DISABLED_CLASS,"")}set buttonType(e){this.showLoader=te[e].showLoader;for(let a of Re)this.buttonClasses=this.buttonClasses?.replace(new RegExp(a,"g"),"");this.buttonClasses=this.buttonClasses?`${this.buttonClasses} ${te[e].buttonClasses}`:te[e].buttonClasses}click(e){this.buttonClickedEvent.emit(e)}ngOnInit(){this.disabledCheck?this.buttonClasses?.includes(this.BTN_DISABLED_CLASS)||(this.buttonClasses=`${this.buttonClasses} ${this.BTN_DISABLED_CLASS}`):this.buttonClasses=this.buttonClasses?.replace(this.BTN_DISABLED_CLASS,"")}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=x({type:i,selectors:[["app-custom-button"]],inputs:{label:"label",buttonClasses:"buttonClasses",buttonIcon:"buttonIcon",isDisabled:"isDisabled",btnCustomHeight:"btnCustomHeight",showLoader:"showLoader",buttonType:"buttonType"},outputs:{buttonClickedEvent:"buttonClickedEvent"},decls:4,vars:11,consts:[["id","action-icon","data-e2e-id","action-button",3,"click","ngClass"],["data-e2e-id","button-loader","class","generic-loader md-loader animate-loader",4,"ngIf"],["data-e2e-id","button-icon","class","flex",3,"src",4,"ngIf"],["data-e2e-id","button-label",4,"ngIf"],["data-e2e-id","button-loader",1,"generic-loader","md-loader","animate-loader"],["data-e2e-id","button-icon",1,"flex",3,"src"],["data-e2e-id","button-label"]],template:function(a,o){a&1&&(n(0,"buttton",0),c("click",function(d){return o.click(d)}),g(1,Ze,1,0,"span",1)(2,et,1,1,"svg-icon",2)(3,tt,2,1,"span",3),t()),a&2&&(ye("slb-btn flex-ic gap-1 cursor-pointer py-1.5 px-3 text-12 3xl:text-14 font-700 rounded-full ",o.buttonClasses,""),s("ngClass",Ce(7,Xe,!o.btnCustomHeight,!o.buttonIcon,o.showLoader)),l(),s("ngIf",o.showLoader),l(),s("ngIf",o.buttonIcon),l(),s("ngIf",o.label))},dependencies:[A,S,j,L],encapsulation:2})}}return i})();var nt=["*",[["","overlaySubTitle",""]]],it=["*","[overlaySubTitle]"],ot=i=>({"overlay-backdrop-opened content-before":i}),rt=i=>({"ml-auto":i}),at=i=>({"disabled pointer-events-none":i});function lt(i,p){if(i&1){let e=E();n(0,"svg-icon",13),c("click",function(){w(e);let o=u(3);return C(o.backButtonClicked.emit())}),t()}i&2&&s("src","assets/icons/heroicons/outline/left.svg")}function st(i,p){if(i&1&&(n(0,"h4",10),g(1,lt,1,1,"svg-icon",11),n(2,"span",12),r(3),t()()),i&2){let e=u(2);l(),s("ngIf",e.showBackButton),l(2),h(e.overlayTitle)}}function dt(i,p){if(i&1){let e=E();n(0,"app-custom-button",14),c("click",function(){w(e);let o=u(2);return C(o.addButtonClicked.emit())}),t()}i&2&&s("buttonClasses","shrink-0 w-8 3xl:w-9 add-btn")("buttonType","secondary-blue")("buttonIcon","plus_icon-2")}function mt(i,p){if(i&1){let e=E();n(0,"div",6),g(1,st,4,2,"h4",7)(2,dt,1,3,"app-custom-button",8),n(3,"svg-icon",9),c("click",function(){w(e);let o=u();return C(o.closeOverlayPanel())}),t(),ae(4,1),t()}if(i&2){let e=u();l(),s("ngIf",e.overlayTitle),l(),s("ngIf",e.showAddIcon),l(),s("src","assets/icons/heroicons/outline/x.svg")("ngClass",J(4,rt,!e.overlayTitle))}}function pt(i,p){if(i&1){let e=E();n(0,"button",18),c("click",function(){w(e);let o=u(2);return C(o.primaryButtonClicked.emit())}),r(1),t()}if(i&2){let e=u(2);s("ngClass",J(2,at,!e.enablePrimaryButton)),l(),h(e.primaryButtonLabel)}}function ut(i,p){if(i&1){let e=E();n(0,"button",19),c("click",function(){w(e);let o=u(2);return C(o.secondaryButtonClicked.emit())}),r(1),t()}if(i&2){let e=u(2);s("disabled",!e.enableSecondaryButton)("ngClass",e.enableSecondaryButton?"btn-primary-blue":"slb-btn-disabled"),l(),h(e.secondaryButtonLabel)}}function ct(i,p){if(i&1&&(n(0,"div",15),g(1,pt,2,4,"button",16)(2,ut,2,3,"button",17),t()),i&2){let e=u();l(),s("ngIf",e.showPrimaryButton),l(),s("ngIf",e.showSecondaryButton)}}var ne=(()=>{class i{constructor(e){this.document=e,this.showOverlayTitle=!0,this.showFooter=!0,this.showAddIcon=!1,this.closePanel=new y,this.backButtonClicked=new y,this.primaryButtonClicked=new y,this.secondaryButtonClicked=new y,this.addButtonClicked=new y}closeOverlayPanel(){this.closePanel.emit()}ngOnInit(){this.updateClassForBody("overlay-opened",!0)}ngOnDestroy(){this.updateClassForBody("overlay-opened",!1)}updateClassForBody(e,a=!0){a?this.document.body.classList.add(e):this.document.body.classList.remove(e)}static{this.\u0275fac=function(a){return new(a||i)(v(Se))}}static{this.\u0275cmp=x({type:i,selectors:[["app-overlay-panel"]],inputs:{animatePanel:"animatePanel",overlayTitle:"overlayTitle",showOverlayTitle:"showOverlayTitle",showBackButton:"showBackButton",showPrimaryButton:"showPrimaryButton",showSecondaryButton:"showSecondaryButton",showFooter:"showFooter",primaryButtonLabel:"primaryButtonLabel",secondaryButtonLabel:"secondaryButtonLabel",enablePrimaryButton:"enablePrimaryButton",enableSecondaryButton:"enableSecondaryButton",showAddIcon:"showAddIcon"},outputs:{closePanel:"closePanel",backButtonClicked:"backButtonClicked",primaryButtonClicked:"primaryButtonClicked",secondaryButtonClicked:"secondaryButtonClicked",addButtonClicked:"addButtonClicked"},ngContentSelectors:it,decls:7,vars:5,consts:[["data-e2e-id","overlay-panel-backdrop","id","panel-overlay",1,"mdm:modal-backdrop","overlay-backdrop","lg:shadow-dialog","fixed","right-0","bottom-0","w-full","h-[calc(100%-32px)]","lg:h-full","z-20",3,"click","ngClass"],["data-e2e-id","overlay-panel",1,"block","modal","overlay-panel","lg:shadow-dialog","fixed","right-0","w-full","h-[calc(100%-32px)]","lg:w-[605px]","lg:h-full","mdm:rounded-t-2xl","z-20"],[1,"flex-dc","modal-content","h-full","w-full","py-4","3xl:py-6","px-2","3xl:px-4","bg-white","mdm:rounded-t-2xl"],["data-e2e-id","overlay-panel-header","class","modal-header relative px-2 flex-ic-jb flex-wrap mb-4 3xl:mb-6 flex justify-between",4,"ngIf"],["data-e2e-id","overlay-panel-body","id","modal-body",1,"h-[calc(100%-10px)]","overflow-y-auto"],["data-e2e-id","overlay-panel-footer","class","modal-footer flex-ic-jb px-2 3xl:px-4 gap-2.5 mt-2 3xl:mt-4 empty:hidden",4,"ngIf"],["data-e2e-id","overlay-panel-header",1,"modal-header","relative","px-2","flex-ic-jb","flex-wrap","mb-4","3xl:mb-6","flex","justify-between"],["class","text-21 3xl:text-27 font-450 text-slb-gray-900 flex-ic gap-2 3xl:gap-4",4,"ngIf"],["data-e2e-id","overlay-panel-add-btn","data-e2e-id","overlay-add-deldoc-btn","class","ml-auto mr-2 3xl:mr-4",3,"buttonClasses","buttonType","buttonIcon","click",4,"ngIf"],["data-e2e-id","overlay-panel-close-icon","id","close_icon",1,"cross--icon","cross-icon-button","icon-gray","text-24","leading-[1]","cursor-pointer",3,"click","src","ngClass"],[1,"text-21","3xl:text-27","font-450","text-slb-gray-900","flex-ic","gap-2","3xl:gap-4"],["data-e2e-id","overlay-panel-header-back-icon","data-e2e-id","overlay-back-btn","class","flex cursor-pointer icon-gray text-18 3xl:text-24 leading-[1] mt-1 3xl:mt-1.5",3,"src","click",4,"ngIf"],["data-e2e-id","overlay-panel-header-title",1,"lowercase"],["data-e2e-id","overlay-panel-header-back-icon","data-e2e-id","overlay-back-btn",1,"flex","cursor-pointer","icon-gray","text-18","3xl:text-24","leading-[1]","mt-1","3xl:mt-1.5",3,"click","src"],["data-e2e-id","overlay-panel-add-btn","data-e2e-id","overlay-add-deldoc-btn",1,"ml-auto","mr-2","3xl:mr-4",3,"click","buttonClasses","buttonType","buttonIcon"],["data-e2e-id","overlay-panel-footer",1,"modal-footer","flex-ic-jb","px-2","3xl:px-4","gap-2.5","mt-2","3xl:mt-4","empty:hidden"],["data-e2e-id","overlay-panel-primary-btn","id","primary-btn","class","slb-btn h-12 flex-center p-0 slb-blue-outline w-full text-center rounded-full",3,"ngClass","click",4,"ngIf"],["data-e2e-id","overlay-panel-secondary-btn","id","secondary-btn","class","save-changes-label slb-btn flex-centre p-0 h-12 w-full text-center rounded-full",3,"disabled","ngClass","click",4,"ngIf"],["data-e2e-id","overlay-panel-primary-btn","id","primary-btn",1,"slb-btn","h-12","flex-center","p-0","slb-blue-outline","w-full","text-center","rounded-full",3,"click","ngClass"],["data-e2e-id","overlay-panel-secondary-btn","id","secondary-btn",1,"save-changes-label","slb-btn","flex-centre","p-0","h-12","w-full","text-center","rounded-full",3,"click","disabled","ngClass"]],template:function(a,o){a&1&&(we(nt),n(0,"div",0),c("click",function(){return o.closeOverlayPanel()}),t(),n(1,"div",1)(2,"div",2),g(3,mt,5,6,"div",3),n(4,"div",4),ae(5,0,["[select]","overlayComponent"]),t(),g(6,ct,3,2,"div",5),t()()),a&2&&(s("ngClass",J(3,ot,o.animatePanel)),l(3),s("ngIf",o.showOverlayTitle),l(3),s("ngIf",o.showFooter))},dependencies:[A,S,qe,j,L],styles:[`.overlay-backdrop{visibility:hidden}.overlay-backdrop+.overlay-panel{transition:bottom .5s ease-in-out,right .5s ease-in-out;bottom:-100%}.overlay-backdrop+.overlay-panel .add-btn{height:32px;padding:0;justify-content:center}.overlay-backdrop:after{position:fixed;top:0;left:0;width:100%;height:100%;background-color:"rgba(0, 0, 0, 0.6)";z-index:-1;opacity:0;transition:.5s ease-in-out;visibility:hidden}.overlay-backdrop-opened{visibility:visible}.overlay-backdrop-opened:after{visibility:visible;opacity:1}.overlay-backdrop-opened+.overlay-panel{bottom:0;right:0}
`],encapsulation:2})}}return i})();var ie=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=x({type:i,selectors:[["app-loader"]],decls:4,vars:0,consts:[[1,"flex","items-center","justify-center","space-x-2"],[1,"w-8","h-8","border-4","border-t-transparent","border-blue-500","rounded-full","animate-spin"],[1,"text-white"]],template:function(a,o){a&1&&(n(0,"div",0),m(1,"div",1),n(2,"span",2),r(3,"Loading..."),t()())},encapsulation:2})}}return i})();function gt(i,p){i&1&&m(0,"app-loader")}var Ge=(()=>{class i{constructor(e){this.apiService=e,this.closeOverlay=new y,this.installmentAmount=0,this.dueDate=new Date,this.loanAccountNumber="",this.totalAmount=1e4,this.showLoader=!1}createLoan(){return I(this,null,function*(){try{this.showLoader=!0;let e=yield this.apiService.post({url:"loans",body:{installmentAmount:this.installmentAmount,loanId:this.loanAccountNumber,installmentDate:this.dueDate,totalAmount:this.totalAmount,userId:this.userId}});this.showLoader=!1,this.closeOverlay.emit()}catch{this.showLoader=!1}})}static{this.\u0275fac=function(a){return new(a||i)(v(T))}}static{this.\u0275cmp=x({type:i,selectors:[["app-create-loan"]],inputs:{userId:"userId"},outputs:{closeOverlay:"closeOverlay"},standalone:!1,decls:34,vars:17,consts:[[1,"max-w-lg","mx-auto","bg-white","rounded-lg","shadow-xl","p-8","mt-10"],[1,"text-2xl","font-semibold","text-center","mb-6"],[1,"space-y-6"],[1,"flex","flex-col"],["for","loanAccountNumber",1,"text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","loanAccountNumber","name","loanAccountNumber","placeholder","Loan Account No.","required","",1,"py-3","px-4","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","amount",1,"text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","items-center","space-x-4"],["type","range","id","amountSlider","min","1000","max","1000000","step","1000","name","amountSlider",1,"w-full",3,"ngModelChange","ngModel"],["type","number","id","amount","name","amount","placeholder","\u20B90.00","required","",1,"py-3","px-4","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","w-24",3,"ngModelChange","ngModel"],[1,"text-sm","text-gray-500","mt-1"],["for","installmentAmount",1,"text-sm","font-medium","text-gray-700","mb-2"],["type","range","id","installmentSlider","min","100","max","50000","step","100","name","installmentSlider",1,"w-full",3,"ngModelChange","ngModel"],["type","number","id","installmentAmount","name","installmentAmount","placeholder","\u20B90.00","required","",1,"py-3","px-4","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","w-24",3,"ngModelChange","ngModel"],["for","dueDate",1,"text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","dueDate","name","dueDate","required","",1,"py-3","px-4","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between","space-x-4"],["type","button",1,"w-full","py-3","px-4","bg-green-500","text-white","font-semibold","rounded-md","focus:outline-none","hover:bg-green-600","transition","duration-300",3,"click"],[4,"ngIf"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"h2",1),r(2,"Manage Loan"),t(),n(3,"form",2)(4,"div",3)(5,"label",4),r(6,"Enter Loan Account No."),t(),n(7,"input",5),k("ngModelChange",function(d){return N(o.loanAccountNumber,d)||(o.loanAccountNumber=d),d}),t()(),n(8,"div",3)(9,"label",6),r(10,"Enter Total Loan Amount"),t(),n(11,"div",7)(12,"input",8),k("ngModelChange",function(d){return N(o.totalAmount,d)||(o.totalAmount=d),d}),t(),n(13,"input",9),k("ngModelChange",function(d){return N(o.totalAmount,d)||(o.totalAmount=d),d}),t()(),n(14,"div",10),r(15),M(16,"currency"),t()(),n(17,"div",3)(18,"label",11),r(19,"Enter Per Month Installment"),t(),n(20,"div",7)(21,"input",12),k("ngModelChange",function(d){return N(o.installmentAmount,d)||(o.installmentAmount=d),d}),t(),n(22,"input",13),k("ngModelChange",function(d){return N(o.installmentAmount,d)||(o.installmentAmount=d),d}),t()(),n(23,"div",10),r(24),M(25,"currency"),t()(),n(26,"div",3)(27,"label",14),r(28,"Enter Due Date"),t(),n(29,"input",15),k("ngModelChange",function(d){return N(o.dueDate,d)||(o.dueDate=d),d}),t()(),n(30,"div",16)(31,"button",17),c("click",function(){return o.createLoan()}),r(32," Create Loan "),t()()(),g(33,gt,1,0,"app-loader",18),t()),a&2&&(l(7),D("ngModel",o.loanAccountNumber),l(5),D("ngModel",o.totalAmount),l(),D("ngModel",o.totalAmount),l(2),b(" Selected Amount: ",le(16,9,o.totalAmount,"INR","symbol")," "),l(6),D("ngModel",o.installmentAmount),l(),D("ngModel",o.installmentAmount),l(2),b(" Selected Installment: ",le(25,13,o.installmentAmount,"INR","symbol")," "),l(5),D("ngModel",o.dueDate),l(4),s("ngIf",o.showLoader))},dependencies:[q,O,X,Me,V,W,Z,R,K,S,ie,z],encapsulation:2})}}return i})();var ht=(i,p)=>({"border-blue-500":i,"border-gray-300":p});function xt(i,p){if(i&1&&(n(0,"div",8)(1,"p",9),r(2,"Preview:"),t(),m(3,"img",10),t()),i&2){let e=u();l(3),s("src",e.previewUrl,H)}}var Ye=(()=>{class i{constructor(e){this.apiService=e,this.previewUrl=null,this.isDragging=!1,this.merchantId="",this.closeOverlay=new y,this.selectedFile=null}onFileSelected(e){let a=e.target;a.files&&a.files.length>0&&this.processFile(a.files[0])}onDragOver(e){e.preventDefault(),this.isDragging=!0}onDragLeave(){this.isDragging=!1}onDrop(e){e.preventDefault(),this.isDragging=!1,e.dataTransfer&&e.dataTransfer.files.length>0&&this.processFile(e.dataTransfer.files[0])}processFile(e){if(e.type==="image/png"||e.type==="image/jpeg"){this.selectedFile=e;let a=new FileReader;a.onload=()=>{this.previewUrl=a.result},a.readAsDataURL(e)}else alert("Please upload a valid PNG or JPG image.")}uploadFile(){return I(this,null,function*(){if(!this.selectedFile){alert("Please select a file first.");return}let e=new FormData;e.append("file",this.selectedFile),e.append("merchantId",this.merchantId),yield this.apiService.put({params:this.userId,url:`user/update-static-qr/${this.userId}`,body:e}),this.closeOverlay.emit()})}static{this.\u0275fac=function(a){return new(a||i)(v(T))}}static{this.\u0275cmp=x({type:i,selectors:[["app-static-qr-upload"]],inputs:{userId:"userId"},outputs:{closeOverlay:"closeOverlay"},standalone:!1,decls:13,vars:7,consts:[[1,"flex","flex-col","items-center","justify-center","p-6","bg-gray-100","rounded-lg","shadow-md","w-full","max-w-md","mx-auto",3,"dragover","dragleave","drop","ngClass"],[1,"text-xl","font-semibold","mb-4"],["type","text",3,"ngModelChange","ngModel"],[1,"cursor-pointer","border-2","border-dashed","rounded-lg","p-6","w-full","text-center","hover:bg-gray-200"],["type","file","accept","image/png, image/jpeg",1,"hidden",3,"change"],[1,"text-gray-600"],["class","mt-4",4,"ngIf"],[1,"mt-4","px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],[1,"mt-4"],[1,"text-sm","text-gray-500","mb-2"],["alt","QR Code",1,"w-48","h-48","object-contain","border","rounded-lg","shadow",3,"src"]],template:function(a,o){a&1&&(n(0,"div",0),c("dragover",function(d){return o.onDragOver(d)})("dragleave",function(){return o.onDragLeave()})("drop",function(d){return o.onDrop(d)}),n(1,"h2",1),r(2,"Upload QR Code"),t(),n(3,"label"),r(4,"Enter Merchant Id"),t(),n(5,"input",2),k("ngModelChange",function(d){return N(o.merchantId,d)||(o.merchantId=d),d}),t(),n(6,"label",3)(7,"input",4),c("change",function(d){return o.onFileSelected(d)}),t(),n(8,"p",5),r(9,"Drag & drop a QR image (PNG/JPG) or click to upload"),t()(),g(10,xt,4,1,"div",6),n(11,"button",7),c("click",function(){return o.uploadFile()}),r(12,` Save
`),t()()),a&2&&(s("ngClass",P(4,ht,o.isDragging,!o.isDragging)),l(5),D("ngModel",o.merchantId),l(5),s("ngIf",o.previewUrl),l(),s("disabled",!o.selectedFile||!o.merchantId))},dependencies:[O,V,R,A,S],encapsulation:2})}}return i})();var oe=(i,p)=>({"bg-blue-600 text-white":i,"bg-gray-300":p}),vt=(i,p)=>({"bg-[#6A64F1]":i,"bg-gray-200 pointer-events-none":p});function _t(i,p){i&1&&(n(0,"div",37)(1,"label",38),r(2," Merchant Details "),t(),n(3,"div",47)(4,"div",34)(5,"div",3),m(6,"input",48),t()(),n(7,"div",34)(8,"div",3),m(9,"input",49),t()(),n(10,"div",34)(11,"div",3),m(12,"input",50),t()()()())}var He=(()=>{class i{set userData(e){e&&(this.registrationForm.patchValue({firstName:e.firstName,lastName:e.lastName,gender:e.gender,phoneNumber:e.phoneNumber,kycVerificationStatus:e.kycVerificationStatus,dob:e.dob,email:e.email,userType:e.role,panNumber:e.panNumber,aadharNumber:e.aadharNumber,merchant:e.role==="MERCHANT"?{shopName:e.merchant?.shopName,gstNumber:e.merchant?.gstNumber,msmeNumber:e.merchant?.msmeNumber}:null,isBlocked:e.isBlocked,address:{address1:e.address?.address1,address2:e.address.address2,city:e.address.city,state:e.address.state,pincode:e.address.pincode}}),this.userInfo=e,this.formValue=this.registrationForm.value)}get isUserType(){return this.registrationForm.get("userType")?.value==="USER"}get isMale(){return this.registrationForm.get("gender")?.value==="M"}get isFormValueChanged(){return JSON.stringify(this.formValue)!==JSON.stringify(this.registrationForm.value)}constructor(e,a){this.fb=e,this.apiService=a,this.userProfileUpdated=new y,this.registrationForm=this.fb.group({firstName:["",_.required],lastName:["",_.required],gender:["",_.required],phoneNumber:["",[_.required,_.pattern(/^[0-9]{10}$/)]],dob:["",_.required],isBlocked:[""],kycVerificationStatus:[""],address:this.fb.group({address1:["",_.required],address2:[""],city:["",_.required],state:["",_.required],pincode:["",[_.required,_.pattern(/^[0-9]{6}$/)]]}),merchant:this.fb.group({shopName:[""],gstNumber:[""],msmeNumber:[""]}),email:["",[_.required,_.email]],userType:["",_.required],panNumber:[""],aadharNumber:["",_.required]}),this.setFormBasedOnRole(this.userData?.role),this.registrationForm.get("userType")?.valueChanges.subscribe(o=>{this.setFormBasedOnRole(o)})}setFormBasedOnRole(e){e==="MERCHANT"?this.registrationForm.get("merchant")?.enable():this.registrationForm.get("merchant")?.disable()}addMerchantControls(){this.registrationForm.addControl("merchant",this.fb.group({shopName:["",_.required],gstNumber:["",_.required],msmeNumber:[""]}))}removeMerchantControls(){this.registrationForm.removeControl("merchant")}ngOnInit(){}onSubmit(){return I(this,null,function*(){if(this.registrationForm.valid)try{let e=ue(re({},this.registrationForm.value),{merchantInfo:this.registrationForm.value.merchant}),a=yield this.apiService.post({url:`user/update/user/${this.userId}`,body:e});console.log("user info before update",this.userInfo),this.userInfo=a.data,this.userProfileUpdated.next(this.userInfo)}catch{}else console.log("Form is invalid!")})}updateValues(e,a){let o=re({},e);for(let[f,d]of Object.entries(a))f in o&&(o[f]=d);return o}static{this.\u0275fac=function(a){return new(a||i)(v(Ve),v(T))}}static{this.\u0275cmp=x({type:i,selectors:[["app-profile-edit"]],inputs:{userId:"userId",userData:"userData"},outputs:{userProfileUpdated:"userProfileUpdated"},standalone:!1,decls:90,vars:22,consts:[[1,"flex","items-center","justify-center","p-12"],[1,"mx-auto","w-full","max-w-[550px]","bg-white"],[3,"ngSubmit","formGroup"],[1,"mb-5"],[1,"mb-3","block","text-base","font-medium","text-[#07074D]"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","cursor-pointer"],["type","radio","formControlName","userType","value","USER",1,"invisible"],[1,"w-30","px-4","py-2","text-center","text-sm","font-medium","text-gray-800","transition-all","hover:bg-gray-400",3,"ngClass"],["type","radio","formControlName","userType","value","MERCHANT",1,"invisible"],[1,"inline-block","w-30","px-4","py-2","text-center","text-sm","font-medium","text-gray-800","transition-all","hover:bg-gray-400",3,"ngClass"],["type","radio","formControlName","gender","value","M",1,"invisible"],["type","radio","formControlName","gender","value","F",1,"invisible"],[1,"inline-block","w-30","px-4","py-2","text-center","text-sm","font-medium","text-gray-800","transition-all",3,"ngClass"],[1,"mb-5","w-1/2"],["for","firstName",1,"mb-3","block","text-base","font-medium","text-[#07074D]"],["type","text","id","firstName","formControlName","firstName","placeholder","First Name",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","lastName",1,"mb-3","block","text-base","font-medium","text-[#07074D]"],["type","text","id","lastName","formControlName","lastName","placeholder","Last Name",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","kycVerificationStatus",1,"mb-3","block","text-base","font-medium","text-[#07074D]"],["id","kycVerificationStatus","formControlName","kycVerificationStatus",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","NOT_INITIATED"],["value","REQUESTED"],["value","REJECTED"],["value","COMPLETED"],[1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","formControlName","isBlocked",1,"sr-only","peer"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["for","phoneNumber",1,"mb-3","block","text-base","font-medium","text-[#07074D]"],["type","text","id","phoneNumber","formControlName","phoneNumber","placeholder","Enter your phone number",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","email",1,"mb-3","block","text-base","font-medium","text-[#07074D]"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2"],["for","dob",1,"mb-3","block","text-base","font-medium","text-[#07074D]"],["type","date","id","dob","formControlName","dob",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"mb-5","pt-3"],[1,"mb-5","block","text-base","font-semibold","text-[#07074D]","sm:text-xl"],["formGroupName","address",1,"-mx-3","flex","flex-wrap"],["type","text","id","address1","formControlName","address1","placeholder","Address Line 1",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["type","text","id","address2","formControlName","address2","placeholder","Address Line 2",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["type","text","id","city","formControlName","city","placeholder","city",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["type","text","id","state","formControlName","state","placeholder","state",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["type","text","id","pincode","formControlName","pincode","placeholder","pincode",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["class","mb-5 pt-3",4,"ngIf"],["type","submit",1,"hover:shadow-form","w-full","rounded-md","py-3","px-8","text-center","text-base","font-semibold","text-white","outline-none",3,"ngClass"],["formGroupName","merchant",1,"-mx-3","flex","flex-wrap"],["type","text","id","shopName","formControlName","shopName","placeholder","Shop Name",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["type","text","id","gstNumber","formControlName","gstNumber","placeholder","GST number",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["type","text","id","msmeNumber","formControlName","msmeNumber","placeholder","msme Number",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-3","px-6","text-base","font-medium","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"div",1)(2,"form",2),c("ngSubmit",function(){return o.onSubmit()}),n(3,"div",3)(4,"label",4),r(5," User Type "),t(),n(6,"div",5)(7,"label",6),m(8,"input",7),n(9,"span",8),r(10," User "),t()(),n(11,"label",6),m(12,"input",9),n(13,"span",10),r(14," Merchant "),t()()()(),n(15,"div",3)(16,"label",4),r(17," Gender "),t(),n(18,"div",5)(19,"label",6),m(20,"input",11),n(21,"span",10),r(22," Male "),t()(),n(23,"label",6),m(24,"input",12),n(25,"span",13),r(26," Female "),t()()()(),n(27,"div",14)(28,"label",15),r(29," First Name "),t(),m(30,"input",16),t(),n(31,"div",14)(32,"label",17),r(33," Last Name "),t(),m(34,"input",18),t(),n(35,"div",3)(36,"label",19),r(37," KYC Status "),t(),n(38,"select",20)(39,"option",21),r(40,"Not Initiated"),t(),n(41,"option",22),r(42,"Requested"),t(),n(43,"option",23),r(44,"Rejected"),t(),n(45,"option",24),r(46,"Completed"),t()()(),n(47,"div",3)(48,"label",25),m(49,"input",26)(50,"div",27),n(51,"span",28),r(52,"Block User"),t()()(),n(53,"div",3)(54,"label",29),r(55," Phone Number "),t(),m(56,"input",30),t(),n(57,"div",3)(58,"label",31),r(59," Email Address "),t(),m(60,"input",32),t(),n(61,"div",33)(62,"div",34)(63,"div",3)(64,"label",35),r(65," Date of Birth "),t(),m(66,"input",36),t()()(),n(67,"div",37)(68,"label",38),r(69," Address Details "),t(),n(70,"div",39)(71,"div",34)(72,"div",3),m(73,"input",40),t()(),n(74,"div",34)(75,"div",3),m(76,"input",41),t()(),n(77,"div",34)(78,"div",3),m(79,"input",42),t()(),n(80,"div",34)(81,"div",3),m(82,"input",43),t()(),n(83,"div",34)(84,"div",3),m(85,"input",44),t()()()(),g(86,_t,13,0,"div",45),n(87,"div")(88,"button",46),r(89," Submit "),t()()()()()),a&2&&(l(2),s("formGroup",o.registrationForm),l(7),s("ngClass",P(7,oe,o.isUserType,!o.isUserType)),l(4),s("ngClass",P(10,oe,!o.isUserType,o.isUserType)),l(8),s("ngClass",P(13,oe,o.isMale,!o.isMale)),l(4),s("ngClass",P(16,oe,!o.isMale,o.isMale)),l(61),s("ngIf",!o.isUserType),l(2),s("ngClass",P(19,vt,o.isFormValueChanged,!o.isFormValueChanged)))},dependencies:[q,Le,Oe,O,ke,Fe,Te,V,W,Be,Ae,Pe,A,S],encapsulation:2})}}return i})();function Ct(i,p){if(i&1){let e=E();n(0,"div",1)(1,"div",2)(2,"h2",3),r(3,"Wallet Info"),t(),n(4,"div",4),c("click",function(){w(e);let o=u();return C(o.refreshBalance())}),m(5,"svg-icon",5),t(),n(6,"div",6),c("click",function(){w(e);let o=u();return C(o.openEditOverlay.emit())}),be(),n(7,"svg",7),m(8,"path",8),t()()(),he(),n(9,"div",9)(10,"p",10),r(11,"Available Balance"),t(),n(12,"p",11),r(13),M(14,"currency"),t(),n(15,"p",12),r(16),M(17,"date"),t()(),n(18,"div",13)(19,"div")(20,"p",10),r(21,"Wallet ID"),t(),n(22,"p",14),r(23),t()(),n(24,"div",15)(25,"p",16),r(26),t()()(),m(27,"div",17),t()}if(i&2){let e=u();l(13),h(F(14,4,e.walletData.balance,"INR")),l(3),b("Last updated: ",F(17,7,e.walletData.updatedAt,"MMM d, y, h:mm a"),""),l(7),h(e.walletData.walletAccountNo),l(3),h(e.walletData.status)}}var Je=(()=>{class i{constructor(e,a){this.apiService=e,this.profileService=a,this.openEditOverlay=new y}ngOnInit(){this.profileService.balanceUpdated.subscribe(e=>{debugger;this.walletData=e}),this.refreshBalance()}refreshBalance(){return I(this,null,function*(){this.lastUpdatedTime=new Date;try{let e=yield this.apiService.get({url:`wallet/user/${this.userId}`});this.walletData=e.data}catch{}})}static{this.\u0275fac=function(a){return new(a||i)(v(T),v(Q))}}static{this.\u0275cmp=x({type:i,selectors:[["app-wallet"]],inputs:{userId:"userId"},outputs:{openEditOverlay:"openEditOverlay"},standalone:!1,decls:1,vars:1,consts:[["class","max-w-sm mx-auto bg-gradient-to-tr from-purple-600 via-indigo-500 to-blue-500 rounded-2xl p-8 shadow-2xl text-white transform hover:scale-105 transition-transform duration-300",4,"ngIf"],[1,"max-w-sm","mx-auto","bg-gradient-to-tr","from-purple-600","via-indigo-500","to-blue-500","rounded-2xl","p-8","shadow-2xl","text-white","transform","hover:scale-105","transition-transform","duration-300"],[1,"flex","items-center","justify-between","mb-6"],[1,"mr-3","text-xl","font-bold","uppercase","tracking-wider"],[1,"cursor-pointer","mr-3","bg-white","bg-opacity-20","p-2","rounded-full","shadow-lg",3,"click"],["src","assets/icons/heroicons/outline/refresh.svg"],[1,"cursor-pointer","bg-opacity-20","p-2","rounded-full","shadow-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 12h14M12 5l7 7-7 7"],[1,"mb-8"],[1,"text-sm","uppercase","opacity-80","tracking-wide"],[1,"text-4xl","font-extrabold","mt-2"],[1,"text-sm","opacity-70","mt-1"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-medium","mt-2"],[1,"bg-white","bg-opacity-20","px-3","py-1","rounded-full","shadow-lg"],[1,"text-sm","font-bold"],[1,"absolute","bottom-0","left-1/2","transform","-translate-x-1/2","translate-y-1/2","w-48","h-48","bg-purple-500","bg-opacity-30","blur-3xl"]],template:function(a,o){a&1&&g(0,Ct,28,10,"div",0),a&2&&s("ngIf",o.walletData)},dependencies:[S,L,z,U],encapsulation:2})}}return i})();function Et(i,p){i&1&&m(0,"app-loader")}var ze=(()=>{class i{constructor(e){this.apiService=e,this.amount=0,this.showLoader=!1,this.closeOverlay=new y,this.message=""}updateBalance(e){return I(this,null,function*(){try{this.showLoader=!0;let a=yield this.apiService.post({url:`wallet/update-money/${this.userId}`,body:{amount:this.amount,message:this.message,type:e}});this.showLoader=!1,this.closeOverlay.emit(a.data)}catch{this.showLoader=!1}})}static{this.\u0275fac=function(a){return new(a||i)(v(T))}}static{this.\u0275cmp=x({type:i,selectors:[["app-wallet-edit"]],inputs:{userId:"userId"},outputs:{closeOverlay:"closeOverlay"},standalone:!1,decls:18,vars:3,consts:[[1,"max-w-lg","mx-auto","bg-white","rounded-lg","shadow-xl","p-8","mt-10"],[1,"text-2xl","font-semibold","text-center","mb-6"],[1,"space-y-6"],[1,"flex","flex-col"],["for","amount",1,"text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","amount","name","amount","placeholder","\u20B90.00","required","",1,"py-3","px-4","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","message",1,"text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","message","name","message","placeholder","....","required","",1,"py-3","px-4","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between","space-x-4"],["type","button",1,"w-full","py-3","px-4","bg-green-500","text-white","font-semibold","rounded-md","focus:outline-none","hover:bg-green-600","transition","duration-300",3,"click"],["type","button",1,"w-full","py-3","px-4","bg-red-500","text-white","font-semibold","rounded-md","focus:outline-none","hover:bg-red-600","transition","duration-300",3,"click"],[4,"ngIf"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"h2",1),r(2,"Manage Your Wallet"),t(),n(3,"form",2)(4,"div",3)(5,"label",4),r(6,"Enter Amount"),t(),n(7,"input",5),k("ngModelChange",function(d){return N(o.amount,d)||(o.amount=d),d}),t()(),n(8,"div",3)(9,"label",6),r(10,"Enter Message"),t(),n(11,"input",7),k("ngModelChange",function(d){return N(o.message,d)||(o.message=d),d}),t()(),n(12,"div",8)(13,"button",9),c("click",function(){return o.updateBalance("CREDIT")}),r(14," Add Money "),t(),n(15,"button",10),c("click",function(){return o.updateBalance("DEBIT")}),r(16," Deduct Money "),t()()(),g(17,Et,1,0,"app-loader",11),t()),a&2&&(l(7),D("ngModel",o.amount),l(4),D("ngModel",o.message),l(6),s("ngIf",o.showLoader))},dependencies:[q,O,X,V,W,Z,R,K,S,ie],encapsulation:2})}}return i})();var Dt=(i,p)=>({"text-yellow-800 bg-yellow-100":i,"text-red-800 bg-red-100":p});function Nt(i,p){if(i&1){let e=E();n(0,"button",16),c("click",function(){w(e);let o=u(2);return C(o.openQRUploadEditOverlay())}),r(1," Upload QR "),t()}}function kt(i,p){if(i&1){let e=E();n(0,"div",35)(1,"div",36)(2,"h3",37),r(3," Basic Info "),t(),n(4,"svg-icon",38),c("click",function(){w(e);let o=u(2);return C(o.openProfileEditOverlay())}),t()(),n(5,"div",39)(6,"dl",40)(7,"div",41)(8,"dt",42),r(9," Email "),t(),n(10,"dd",43),r(11),t()(),n(12,"div",41)(13,"dt",42),r(14," Phone Number "),t(),n(15,"dd",43),r(16),t()(),n(17,"div",41)(18,"dt",42),r(19," Aadhar number "),t(),n(20,"dd",43),r(21),t()(),n(22,"div",41)(23,"dt",42),r(24," PAN "),t(),n(25,"dd",43),r(26),t()()()()()}if(i&2){let e=u(2);l(11),b(" ",e.userData.email," "),l(5),b(" ",e.userData.phoneNumber," "),l(5),b(" ",e.userData.aadharNumber," "),l(5),b(" ",e.userData.panNumber," ")}}function Tt(i,p){if(i&1&&(n(0,"div",44)(1,"div",45)(2,"h3",37),r(3," Merchant Info "),t()(),n(4,"div",39)(5,"dl",40)(6,"div",41)(7,"dt",42),r(8," Shop Name "),t(),n(9,"dd",43),r(10),t()(),n(11,"div",41)(12,"dt",42),r(13," GST number "),t(),n(14,"dd",43),r(15),t()(),n(16,"div",41)(17,"dt",42),r(18," MSME number "),t(),n(19,"dd",43),r(20),t()()()()()),i&2){let e=u(2);l(10),b(" ",e.userData.merchant.shopName," "),l(5),b(" ",e.userData.merchant.gstNumber," "),l(5),b(" ",e.userData.merchant.msmeNumber," ")}}function Mt(i,p){if(i&1&&(n(0,"div",50)(1,"div",51)(2,"div")(3,"p",52),r(4,"Name:"),t(),n(5,"p",53),r(6),t()(),n(7,"div")(8,"p",52),r(9,"Account Number:"),t(),n(10,"p",53),r(11),t()(),n(12,"div")(13,"p",52),r(14,"IFSC Code:"),t(),n(15,"p",53),r(16),t()()()()),i&2){let e=p.$implicit;l(6),h(e.nameInBank),l(5),h(e.bankAccountNumber),l(5),h(e.ifscCode)}}function Bt(i,p){if(i&1&&(n(0,"div",46)(1,"div",47)(2,"h3",48),r(3," Beneficiaries "),t(),g(4,Mt,17,3,"div",49),t()()),i&2){let e=u(2);l(4),s("ngForOf",e.userData.beneficiaries)}}function Pt(i,p){if(i&1&&(n(0,"tr")(1,"td",59),r(2),t(),n(3,"td",59),r(4),t(),n(5,"td",59),r(6),t(),n(7,"td",59),r(8),t(),n(9,"td",59),r(10),M(11,"date"),t(),n(12,"td",59)(13,"span",60),r(14),t()()()),i&2){let e=p.$implicit;l(2),h(e.loanAccount),l(2),h(e.installmentAmount),l(2),h(e.overdueAmount),l(2),h(e.totalAmount),l(2),h(F(11,7,e.dueDate,"dd/MM/YY")),l(3),s("ngClass",P(10,Dt,e.loanStatus==="Pending",e.loanStatus==="Overdue")),l(),b(" ",e.loanStatus," ")}}function At(i,p){if(i&1&&(n(0,"div",54)(1,"table",55)(2,"thead")(3,"tr",56)(4,"th",57),r(5,"Loan Account#"),t(),n(6,"th",57),r(7,"Installment Amount"),t(),n(8,"th",57),r(9,"Overdue Amount"),t(),n(10,"th",57),r(11,"Total Amount"),t(),n(12,"th",57),r(13,"Due Date"),t(),n(14,"th",57),r(15,"Loan Status"),t()()(),n(16,"tbody"),g(17,Pt,15,13,"tr",58),t()()()),i&2){let e=u(2);l(17),s("ngForOf",e.userData.loans)}}function Ft(i,p){if(i&1){let e=E();n(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div")(5,"p",10),r(6),t(),n(7,"p",11),r(8,"Loans"),t()(),n(9,"div")(10,"p",10),r(11),t(),n(12,"p",11),r(13,"Beneficiaries"),t()()(),n(14,"div",12)(15,"div",13),m(16,"img",14),t()(),n(17,"div",15)(18,"button",16),c("click",function(){w(e);let o=u();return C(o.createLoan())}),r(19," Add Loan "),t(),g(20,Nt,2,0,"button",17),n(21,"button",18),r(22," Send Message "),t()()(),n(23,"div",19)(24,"div",20)(25,"h1",21),r(26),n(27,"span",22),r(28),t()(),n(29,"div",23)(30,"div",24),r(31),t(),n(32,"div",25),r(33),t(),n(34,"div",26),r(35),t(),n(36,"div",27),r(37),t()(),n(38,"p",28),r(39),t()(),n(40,"app-wallet",29),c("openEditOverlay",function(){w(e);let o=u();return C(o.openWalletEditOverlay())}),t(),m(41,"app-card",30),t(),g(42,kt,27,4,"div",31)(43,Tt,21,3,"div",32)(44,Bt,5,1,"div",33)(45,At,18,1,"div",34),t()()}if(i&2){let e=u();l(6),h(e.userData.loans==null?null:e.userData.loans.length),l(5),h(e.userData.beneficiaries==null?null:e.userData.beneficiaries.length),l(5),s("src",e.userData.profileUrl,H),l(4),s("ngIf",e.isMerchant),l(6),b(" ",e.fullName," "),l(2),h(e.age),l(3),b(" ",e.userData.role," "),l(2),b(" KYC ",e.userData.kycVerificationStatus," "),l(2),b(" ",e.userData.gender==="M"?"MALE":"FEMALE"," "),l(2),b(" ",e.userData.pin?"Pin Created":"Pin Not Setup"," "),l(2),h(e.address),l(),s("userId",e.userId),l(),s("fullName",e.fullName)("cardNumberLast4Dists",e.lastFourDigits),l(),s("ngIf",e.userData),l(),s("ngIf",e.userData.merchant),l(),s("ngIf",e.userData.beneficiaries==null?null:e.userData.beneficiaries.length),l(),s("ngIf",e.userData.loans==null?null:e.userData.loans.length)}}function Lt(i,p){if(i&1){let e=E();n(0,"app-profile-edit",61),c("userProfileUpdated",function(o){w(e);let f=u();return C(f.updateProfile(o))}),t()}if(i&2){let e=u();s("userId",e.userId)("userData",e.userData)}}function Ot(i,p){if(i&1&&m(0,"app-wallet-edit",62),i&2){let e=u();s("userId",e.userId)}}function Vt(i,p){if(i&1){let e=E();n(0,"app-static-qr-upload",63),c("closeOverlay",function(){w(e);let o=u();return C(o.close())}),t()}if(i&2){let e=u();s("userId",e.userId)}}function Ut(i,p){if(i&1){let e=E();n(0,"app-create-loan",63),c("closeOverlay",function(){w(e);let o=u();return C(o.closeLoanOverlay())}),t()}if(i&2){let e=u();s("userId",e.userId)}}var $e=(()=>{class i{constructor(e,a,o){this.route=e,this.apiService=a,this.profileService=o,this.selectedEditComponent="",this.animatePanel=!1,this.userData=null,this.isLoading=!1}ngOnInit(){this.route.params.subscribe(e=>{this.userId=e.userid,this.userId&&this.fetchUserData(this.userId)})}get address(){return this.userData?.address?`
        ${this.userData.address.address1} ${this.userData.address.address2}, ${this.userData.address.city},
         ${this.userData.address.state}, ${this.userData.address.pincode} 
        `:""}get lastFourDigits(){return this.userData?.card?.lastFourDigits||"1234"}get fullName(){return`${this.userData?.firstName} ${this.userData?.lastName}`}get age(){if(this.userData?.dob){let e=new Date(this.userData.dob),a=new Date,o=a.getFullYear()-e.getFullYear(),f=a.getMonth()-e.getMonth();return(f<0||f===0&&a.getDate()<e.getDate())&&o--,o}return""}get isMerchant(){return this.userData?.role==="MERCHANT"}fetchUserData(e){return I(this,null,function*(){this.isLoading=!0;let a=yield this.apiService.get({url:`user/${e}`});this.isLoading=!1,this.userData=a.data})}close(){this.animatePanel=!1}updateProfile(e){this.userData=e,this.close()}openProfileEditOverlay(){this.selectedEditComponent="profile",this.overlayTitle="Update Profile",this.animatePanel=!0}createLoan(){this.selectedEditComponent="loan",this.overlayTitle="Add New Loan",this.animatePanel=!0}closeLoanOverlay(){this.close(),this.fetchUserData(this.userId)}openWalletEditOverlay(){this.selectedEditComponent="wallet",this.overlayTitle="Update Wallet",this.animatePanel=!0}openQRUploadEditOverlay(){this.selectedEditComponent="qrUpload",this.overlayTitle="Upload Static QR",this.animatePanel=!0}updateBalance(e){this.profileService.balanceUpdated.next(e)}static{this.\u0275fac=function(a){return new(a||i)(v(Ne),v(T),v(Q))}}static{this.\u0275cmp=x({type:i,selectors:[["app-profile"]],standalone:!1,decls:7,vars:11,consts:[["class","p-16",4,"ngIf"],[1,"overlay",3,"closePanel","animatePanel","showSecondaryButton","showPrimaryButton","showOverlayTitle","overlayTitle"],[3,"ngSwitch"],[3,"userId","userData","userProfileUpdated",4,"ngSwitchCase"],[3,"userId",4,"ngSwitchCase"],[3,"userId","closeOverlay",4,"ngSwitchCase"],[1,"p-16"],[1,"p-8","bg-white","shadow","mt-24","dark:bg-gray-800"],[1,"grid","grid-cols-1","sm:grid-cols-3"],[1,"grid","grid-cols-3","text-center","order-last","sm:order-first","mt-20","sm:mt-0"],[1,"font-bold","text-gray-700","text-xl","dark:text-gray-200"],[1,"text-gray-400"],[1,"relative"],[1,"w-48","h-48","bg-indigo-100","mx-auto","rounded-full","shadow-2xl","absolute","inset-x-0","top-0","-mt-24","flex","items-center","justify-center"],["alt","Profile Picture",1,"rounded-full","h-full","w-full",3,"src"],[1,"space-x-8","flex","justify-between","mt-32","sm:mt-0","sm:justify-center"],[1,"text-white","py-2","px-4","uppercase","rounded","bg-blue-400","hover:bg-blue-500","shadow","hover:shadow-lg","font-medium","transition","transform","hover:-translate-y-0.5",3,"click"],["class","text-white py-2 px-4 uppercase rounded bg-blue-400 hover:bg-blue-500 shadow hover:shadow-lg font-medium transition transform hover:-translate-y-0.5",3,"click",4,"ngIf"],[1,"text-white","py-2","px-4","uppercase","rounded","bg-gray-700","hover:bg-gray-800","shadow","hover:shadow-lg","font-medium","transition","transform","hover:-translate-y-0.5"],[1,"flex","justify-between"],[1,"mt-20","text-center","border-b","pb-12"],[1,"text-4xl","font-medium","text-gray-700","dark:text-gray-200"],[1,"font-light","text-gray-500"],[1,"flex","gap-2"],[1,"rounded-md","bg-blue-600","py-0.5","px-2.5","border","border-transparent","text-sm","text-white","transition-all","shadow-sm"],[1,"rounded-md","bg-red-600","py-0.5","px-2.5","border","border-transparent","text-sm","text-white","transition-all","shadow-sm"],[1,"rounded-md","bg-cyan-600","py-0.5","px-2.5","border","border-transparent","text-sm","text-white","transition-all","shadow-sm"],[1,"rounded-md","bg-purple-600","py-0.5","px-2.5","border","border-transparent","text-sm","text-white","transition-all","shadow-sm"],[1,"font-light","text-gray-600","mt-3","dark:text-gray-400"],[1,"mt-20",3,"openEditOverlay","userId"],[1,"mt-20",3,"fullName","cardNumberLast4Dists"],["class"," mt-20 bg-white overflow-hidden mb-10 shadow rounded-lg border",4,"ngIf"],["class","bg-white overflow-hidden mb-10 shadow rounded-lg border",4,"ngIf"],["class","bg-white overflow-hidden shadow rounded-lg border mb-10",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"mt-20","bg-white","overflow-hidden","mb-10","shadow","rounded-lg","border"],[1,"flex","justify-between","px-4","py-5","sm:px-6"],[1,"text-lg","leading-6","font-medium","text-gray-900"],["src","assets\\icons\\heroicons\\outline\\edit.svg",1,"px-6","icon-gray","text-24","leading-[1]","cursor-pointer",3,"click"],[1,"border-t","border-gray-200","px-4","py-5","sm:p-0"],[1,"sm:divide-y","sm:divide-gray-200"],[1,"py-3","sm:py-5","sm:grid","sm:grid-cols-3","sm:gap-4","sm:px-6"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-sm","text-gray-900","sm:mt-0","sm:col-span-2"],[1,"bg-white","overflow-hidden","mb-10","shadow","rounded-lg","border"],[1,"px-4","py-5","sm:px-6"],[1,"bg-white","overflow-hidden","shadow","rounded-lg","border","mb-10"],[1,"px-6","py-4"],[1,"text-lg","leading-6","mb-5","font-medium","text-gray-900"],["class","space-y-4",4,"ngFor","ngForOf"],[1,"space-y-4"],[1,"flex","justify-between","bg-gray-100","p-4","rounded-md"],[1,"font-semibold","text-gray-700"],[1,"text-gray-600"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","shadow-md","rounded-md"],[1,"bg-gray-100"],[1,"text-left","px-6","py-4","font-medium","text-gray-700","border-b"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","text-gray-600","border-b"],[1,"px-2","py-1","text-sm","font-medium","rounded-full",3,"ngClass"],[3,"userProfileUpdated","userId","userData"],[3,"userId"],[3,"closeOverlay","userId"]],template:function(a,o){a&1&&(g(0,Ft,46,18,"div",0),n(1,"app-overlay-panel",1),c("closePanel",function(){return o.close()}),ve(2,2),g(3,Lt,1,2,"app-profile-edit",3)(4,Ot,1,1,"app-wallet-edit",4)(5,Vt,1,1,"app-static-qr-upload",5)(6,Ut,1,1,"app-create-loan",5),_e(),t()),a&2&&(s("ngIf",o.userData),l(),s("animatePanel",o.animatePanel)("showSecondaryButton",!0)("showPrimaryButton",!0)("showOverlayTitle",!0)("overlayTitle",o.overlayTitle),l(),s("ngSwitch",o.selectedEditComponent),l(),s("ngSwitchCase","profile"),l(),s("ngSwitchCase","wallet"),l(),s("ngSwitchCase","qrUpload"),l(),s("ngSwitchCase","loan"))},dependencies:[A,Ee,S,Ie,De,ee,L,ne,Ge,Ye,He,Je,ze,U],encapsulation:2})}}return i})();var jt=[{path:":userid",component:$e}],ii=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=xe({type:i})}static{this.\u0275inj=ge({providers:[Q],imports:[se.forChild(jt),Ue,je,$,ee,j,ne,se]})}}return i})();export{ii as ProfileModule};
