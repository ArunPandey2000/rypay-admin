import{a as L}from"./chunk-FRL2DUCP.js";import"./chunk-R3JNT2JN.js";import{Bb as S,Ga as n,Ha as o,Ia as l,Q as I,Qa as C,R as a,Ra as b,S as h,Ta as y,X as f,Y as _,aa as x,d as D,da as m,db as N,fb as M,gb as P,ib as F,kb as v,na as t,oa as e,pa as c,va as u,w,wb as A}from"./chunk-3MIGUVNV.js";var g=(()=>{class r{constructor(){this.fullName="",this.cardNumberLast4Dists="",this.validity="",this.expiry=""}get ExpiryDate(){return this.expiry?this.expiry:new Date().setFullYear(new Date().getFullYear()+24)}get ValidDate(){return this.expiry?this.expiry:new Date}static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275cmp=f({type:r,selectors:[["app-card"]],inputs:{fullName:"fullName",cardNumberLast4Dists:"cardNumberLast4Dists",validity:"validity",expiry:"expiry"},decls:36,vars:10,consts:[[1,"bg-white","flex","justify-center","items-center"],[1,"w-96","h-56","m-auto","bg-red-100","rounded-xl","relative","text-white","shadow-2xl","transition-transform","transform","hover:scale-110"],["src","https://i.imgur.com/kGkSg1v.png",1,"relative","object-cover","w-full","h-full","rounded-xl"],[1,"w-full","px-8","absolute","top-8"],[1,"flex","justify-between"],[1,""],[1,"font-light"],[1,"font-medium","tracking-widest"],["src","https://i.imgur.com/bbPHJVe.png",1,"w-14","h-14"],[1,"pt-1"],[1,"font-medium","tracking-more-wider"],[1,"pt-6","pr-6"],[1,"font-light","text-xs"],[1,"font-medium","tracking-wider","text-sm"],[1,"font-light","text-xs","text-xs"],[1,"font-bold","tracking-more-wider","text-sm"]],template:function(d,p){d&1&&(t(0,"div",0)(1,"div")(2,"div",1),c(3,"img",2),t(4,"div",3)(5,"div",4)(6,"div",5)(7,"p",6),n(8," Name "),e(),t(9,"p",7),n(10),e()(),c(11,"img",8),e(),t(12,"div",9)(13,"p",6),n(14," Card Number "),e(),t(15,"p",10),n(16),e()(),t(17,"div",11)(18,"div",4)(19,"div",5)(20,"p",12),n(21," Valid "),e(),t(22,"p",13),n(23),b(24,"date"),e()(),t(25,"div",5)(26,"p",14),n(27," Expiry "),e(),t(28,"p",13),n(29),b(30,"date"),e()(),t(31,"div",5)(32,"p",12),n(33," CVV "),e(),t(34,"p",15),n(35," \xB7\xB7\xB7 "),e()()()()()()()()),d&2&&(a(10),l(" ",p.fullName," "),a(6),l(" **** **** **** ",p.cardNumberLast4Dists," "),a(7),l(" ",y(24,4,p.ValidDate,"MM/YY")," "),a(6),l(" ",y(30,7,p.ExpiryDate,"MM/YY")," "))},dependencies:[v,F],encapsulation:2})}}return r})();var B=(r,s)=>({"text-yellow-800 bg-yellow-100":r,"text-red-800 bg-red-100":s});function Y(r,s){if(r&1&&c(0,"app-card",27),r&2){let i=u(2);m("fullName",i.fullName)("cardNumberLast4Dists",i.userData.card.lastFourDigits)}}function O(r,s){if(r&1&&(t(0,"div",28)(1,"div",29)(2,"h3",30),n(3," Basic Info "),e()(),t(4,"div",31)(5,"dl",32)(6,"div",33)(7,"dt",34),n(8," Email "),e(),t(9,"dd",35),n(10),e()(),t(11,"div",33)(12,"dt",34),n(13," Phone Number "),e(),t(14,"dd",35),n(15),e()(),t(16,"div",33)(17,"dt",34),n(18," Aadhar number "),e(),t(19,"dd",35),n(20),e()(),t(21,"div",33)(22,"dt",34),n(23," PAN "),e(),t(24,"dd",35),n(25),e()()()()()),r&2){let i=u(2);a(10),l(" ",i.userData.email," "),a(5),l(" ",i.userData.phoneNumber," "),a(5),l(" ",i.userData.aadharNumber," "),a(5),l(" ",i.userData.panNumber," ")}}function V(r,s){if(r&1&&(t(0,"div",28)(1,"div",29)(2,"h3",30),n(3," Merchant Info "),e()(),t(4,"div",31)(5,"dl",32)(6,"div",33)(7,"dt",34),n(8," Shop Name "),e(),t(9,"dd",35),n(10),e()(),t(11,"div",33)(12,"dt",34),n(13," GST number "),e(),t(14,"dd",35),n(15),e()(),t(16,"div",33)(17,"dt",34),n(18," MSME number "),e(),t(19,"dd",35),n(20),e()()()()()),r&2){let i=u(2);a(10),l(" ",i.userData.merchant.shopName," "),a(5),l(" ",i.userData.merchant.gstNumber," "),a(5),l(" ",i.userData.merchant.msmeNumber," ")}}function U(r,s){if(r&1&&(t(0,"div",40)(1,"div",41)(2,"div")(3,"p",42),n(4,"Name:"),e(),t(5,"p",43),n(6),e()(),t(7,"div")(8,"p",42),n(9,"Account Number:"),e(),t(10,"p",43),n(11),e()(),t(12,"div")(13,"p",42),n(14,"IFSC Code:"),e(),t(15,"p",43),n(16),e()()()()),r&2){let i=s.$implicit;a(6),o(i.nameInBank),a(5),o(i.bankAccountNumber),a(5),o(i.ifscCode)}}function G(r,s){if(r&1&&(t(0,"div",36)(1,"div",37)(2,"h3",38),n(3," Beneficiaries "),e(),x(4,U,17,3,"div",39),e()()),r&2){let i=u(2);a(4),m("ngForOf",i.userData.beneficiaries)}}function R(r,s){if(r&1&&(t(0,"tr")(1,"td",49),n(2),e(),t(3,"td",49),n(4),e(),t(5,"td",49),n(6),e(),t(7,"td",49),n(8),e(),t(9,"td",49),n(10),e(),t(11,"td",49),n(12),e(),t(13,"td",49)(14,"span",50),n(15),e()()()),r&2){let i=s.$implicit;a(2),o(i.loanId),a(2),o(i.name),a(2),o(i.installmentAmount),a(2),o(i.overdueAmount),a(2),o(i.totalAmount),a(2),o(i.paidAmount),a(2),m("ngClass",C(8,B,i.loanStatus==="Pending",i.loanStatus==="Overdue")),a(),l(" ",i.loanStatus," ")}}function z(r,s){if(r&1&&(t(0,"div",44)(1,"table",45)(2,"thead")(3,"tr",46)(4,"th",47),n(5,"Loan ID"),e(),t(6,"th",47),n(7,"Name"),e(),t(8,"th",47),n(9,"Installment Amount"),e(),t(10,"th",47),n(11,"Overdue Amount"),e(),t(12,"th",47),n(13,"Total Amount"),e(),t(14,"th",47),n(15,"Paid Amount"),e(),t(16,"th",47),n(17,"Loan Status"),e()()(),t(18,"tbody"),x(19,R,16,11,"tr",48),e()()()),r&2){let i=u(2);a(19),m("ngForOf",i.userData.loans)}}function H(r,s){if(r&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div")(5,"p",5),n(6),e(),t(7,"p",6),n(8,"Loans"),e()(),t(9,"div")(10,"p",5),n(11),e(),t(12,"p",6),n(13,"Beneficiaries"),e()()(),t(14,"div",7)(15,"div",8),c(16,"img",9),e()(),t(17,"div",10)(18,"button",11),n(19," Add Loan "),e(),t(20,"button",12),n(21," Send Message "),e()()(),t(22,"div",13)(23,"div",14)(24,"h1",15),n(25),t(26,"span",16),n(27),e()(),t(28,"div",17)(29,"div",18),n(30),e(),t(31,"div",19),n(32),e(),t(33,"div",20),n(34),e(),t(35,"div",21),n(36),e()(),t(37,"p",22),n(38),e()(),x(39,Y,1,2,"app-card",23),e(),x(40,O,26,4,"div",24)(41,V,21,3,"div",24)(42,G,5,1,"div",25)(43,z,20,1,"div",26),e()()),r&2){let i=u();a(6),o(i.userData.loans==null?null:i.userData.loans.length),a(5),o(i.userData.beneficiaries==null?null:i.userData.beneficiaries.length),a(5),m("src",i.userData.profileUrl,I),a(9),l(" ",i.fullName," "),a(2),o(i.age),a(3),l(" ",i.userData.role," "),a(2),l(" KYC ",i.userData.kycVerificationStatus," "),a(2),l(" ",i.userData.gender==="M"?"MALE":"FEMALE"," "),a(2),l(" ",i.userData.pin?"Pin Created":"Pin Not Setup"," "),a(2),o(i.address),a(),m("ngIf",i.userData.card),a(),m("ngIf",i.userData),a(),m("ngIf",i.userData.merchant),a(),m("ngIf",i.userData.beneficiaries==null?null:i.userData.beneficiaries.length),a(),m("ngIf",i.userData.loans==null?null:i.userData.loans.length)}}var j=(()=>{class r{constructor(i,d){this.route=i,this.apiService=d,this.userData=null,this.isLoading=!1}ngOnInit(){this.route.params.subscribe(i=>{this.userId=i.userid,this.userId&&this.fetchUserData(this.userId)})}get address(){return this.userData?.address?`
        ${this.userData.address.address1} ${this.userData.address.address2}, ${this.userData.address.city},
         ${this.userData.address.state}, ${this.userData.address.pincode} 
        `:""}get fullName(){return`${this.userData?.firstName} ${this.userData?.lastName}`}get age(){if(this.userData?.dob){let i=new Date(this.userData.dob),d=new Date,p=d.getFullYear()-i.getFullYear(),E=d.getMonth()-i.getMonth();return(E<0||E===0&&d.getDate()<i.getDate())&&p--,p}return""}fetchUserData(i){return D(this,null,function*(){this.isLoading=!0;let d=yield this.apiService.get({url:`user/${i}`});this.isLoading=!1,this.userData=d.data})}static{this.\u0275fac=function(d){return new(d||r)(h(A),h(L))}}static{this.\u0275cmp=f({type:r,selectors:[["app-profile"]],standalone:!1,decls:1,vars:1,consts:[["class","p-16",4,"ngIf"],[1,"p-16"],[1,"p-8","bg-white","shadow","mt-24","dark:bg-gray-800"],[1,"grid","grid-cols-1","sm:grid-cols-3"],[1,"grid","grid-cols-3","text-center","order-last","sm:order-first","mt-20","sm:mt-0"],[1,"font-bold","text-gray-700","text-xl","dark:text-gray-200"],[1,"text-gray-400"],[1,"relative"],[1,"w-48","h-48","bg-indigo-100","mx-auto","rounded-full","shadow-2xl","absolute","inset-x-0","top-0","-mt-24","flex","items-center","justify-center"],["alt","Profile Picture",1,"rounded-full","h-full","w-full",3,"src"],[1,"space-x-8","flex","justify-between","mt-32","sm:mt-0","sm:justify-center"],[1,"text-white","py-2","px-4","uppercase","rounded","bg-blue-400","hover:bg-blue-500","shadow","hover:shadow-lg","font-medium","transition","transform","hover:-translate-y-0.5"],[1,"text-white","py-2","px-4","uppercase","rounded","bg-gray-700","hover:bg-gray-800","shadow","hover:shadow-lg","font-medium","transition","transform","hover:-translate-y-0.5"],[1,"flex","justify-between"],[1,"mt-20","text-center","border-b","pb-12"],[1,"text-4xl","font-medium","text-gray-700","dark:text-gray-200"],[1,"font-light","text-gray-500"],[1,"flex","gap-2"],[1,"rounded-md","bg-blue-600","py-0.5","px-2.5","border","border-transparent","text-sm","text-white","transition-all","shadow-sm"],[1,"rounded-md","bg-red-600","py-0.5","px-2.5","border","border-transparent","text-sm","text-white","transition-all","shadow-sm"],[1,"rounded-md","bg-cyan-600","py-0.5","px-2.5","border","border-transparent","text-sm","text-white","transition-all","shadow-sm"],[1,"rounded-md","bg-purple-600","py-0.5","px-2.5","border","border-transparent","text-sm","text-white","transition-all","shadow-sm"],[1,"font-light","text-gray-600","mt-3","dark:text-gray-400"],["class","mt-20",3,"fullName","cardNumberLast4Dists",4,"ngIf"],["class","bg-white overflow-hidden mb-10 shadow rounded-lg border",4,"ngIf"],["class","bg-white overflow-hidden shadow rounded-lg border mb-10",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"mt-20",3,"fullName","cardNumberLast4Dists"],[1,"bg-white","overflow-hidden","mb-10","shadow","rounded-lg","border"],[1,"px-4","py-5","sm:px-6"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"border-t","border-gray-200","px-4","py-5","sm:p-0"],[1,"sm:divide-y","sm:divide-gray-200"],[1,"py-3","sm:py-5","sm:grid","sm:grid-cols-3","sm:gap-4","sm:px-6"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-sm","text-gray-900","sm:mt-0","sm:col-span-2"],[1,"bg-white","overflow-hidden","shadow","rounded-lg","border","mb-10"],[1,"px-6","py-4"],[1,"text-lg","leading-6","mb-5","font-medium","text-gray-900"],["class","space-y-4",4,"ngFor","ngForOf"],[1,"space-y-4"],[1,"flex","justify-between","bg-gray-100","p-4","rounded-md"],[1,"font-semibold","text-gray-700"],[1,"text-gray-600"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","shadow-md","rounded-md"],[1,"bg-gray-100"],[1,"text-left","px-6","py-4","font-medium","text-gray-700","border-b"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","text-gray-600","border-b"],[1,"px-2","py-1","text-sm","font-medium","rounded-full",3,"ngClass"]],template:function(d,p){d&1&&x(0,H,44,15,"div",0),d&2&&m("ngIf",p.userData)},dependencies:[N,M,P,g],encapsulation:2})}}return r})();var J=[{path:":userid",component:j}],ne=(()=>{class r{static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275mod=_({type:r})}static{this.\u0275inj=w({imports:[S.forChild(J),v,g,S]})}}return r})();export{ne as ProfileModule};
