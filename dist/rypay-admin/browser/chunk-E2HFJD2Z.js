import{a as G}from"./chunk-EZI6CU2I.js";import{a as E}from"./chunk-ICDBCYPF.js";import{b as v,d as T,e as M,f as x,g as w,h as A,r as N,t as O}from"./chunk-537PRCH2.js";import"./chunk-4GPQGFMK.js";import{$ as _,Ib as D,Ka as s,La as P,Ma as V,Oa as f,Pa as b,Qa as h,U as a,Ua as q,V as S,_ as d,d as W,da as g,ga as l,ia as I,ib as R,kb as B,lb as C,ra as t,rb as L,sa as o,ta as k,w as y,ya as u,za as j}from"./chunk-3F6BZBUY.js";function Y(e,p){if(e&1&&(t(0,"div",7),s(1),o()),e&2){let i=j();a(),V(" ",i.status," ")}}var z=(()=>{class e{constructor(i){this.apiService=i,this.phoneNumber="",this.message="",this.status=""}sendSms(){}static{this.\u0275fac=function(r){return new(r||e)(S(E))}}static{this.\u0275cmp=d({type:e,selectors:[["app-sms-tab"]],standalone:!1,decls:15,vars:3,consts:[[1,"text-xl","font-bold","mb-4","text-gray-700"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-gray-600","font-medium","mb-1"],["type","text","name","phoneNumber","required","",1,"w-full","p-2","border","border-gray-300","rounded","focus:outline-none","focus:ring","focus:ring-blue-300",3,"ngModelChange","ngModel"],["name","message","required","",1,"w-full","p-2","border","border-gray-300","rounded","focus:outline-none","focus:ring","focus:ring-blue-300",3,"ngModelChange","ngModel"],["type","submit",1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600"],["class","mt-4 p-4 bg-green-50 border-l-4 border-green-500 text-green-700",4,"ngIf"],[1,"mt-4","p-4","bg-green-50","border-l-4","border-green-500","text-green-700"]],template:function(r,n){r&1&&(t(0,"div")(1,"h2",0),s(2,"Send SMS"),o(),t(3,"form",1),u("ngSubmit",function(){return n.sendSms()}),t(4,"div")(5,"label",2),s(6,"Phone Number"),o(),t(7,"input",3),h("ngModelChange",function(m){return b(n.phoneNumber,m)||(n.phoneNumber=m),m}),o()(),t(8,"div")(9,"label",2),s(10,"Message"),o(),t(11,"textarea",4),h("ngModelChange",function(m){return b(n.message,m)||(n.message=m),m}),o()(),t(12,"button",5),s(13," Send SMS "),o()(),g(14,Y,2,1,"div",6),o()),r&2&&(a(7),f("ngModel",n.phoneNumber),a(4),f("ngModel",n.message),a(3),l("ngIf",n.status))},dependencies:[C,A,v,T,M,N,w,x],encapsulation:2})}}return e})();var $=(e,p)=>({"bg-blue-500 hover:bg-blue-600":e,"bg-gray-500 disabled pointer-events-none":p});function ee(e,p){if(e&1&&(t(0,"div",6)(1,"p",7),s(2),o()()),e&2){let i=p.$implicit;a(2),P(i)}}var H=(()=>{class e{constructor(i){this.apiService=i,this.title="",this.description="",this.announcements=[]}addAnnouncement(){return W(this,null,function*(){if(this.description)try{yield this.apiService.post({url:"notifications/announcement",body:{message:this.description}}),this.announcements.push(this.description),this.description=""}catch(i){G.error("Failed to send message",{position:"bottom-right",description:i.message,action:{label:"Undo",onClick:()=>console.log("Action!")},actionButtonStyle:"background-color:#DC2626; color:white;"})}})}static{this.\u0275fac=function(r){return new(r||e)(S(E))}}static{this.\u0275cmp=d({type:e,selectors:[["app-announcements-tab"]],standalone:!1,decls:11,vars:6,consts:[[1,"text-xl","font-bold","mb-4","text-gray-700"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-gray-600","font-medium","mb-1"],["name","description","required","",1,"w-full","p-2","border","border-gray-300","rounded","focus:outline-none","focus:ring","focus:ring-blue-300",3,"ngModelChange","ngModel"],["type","submit",1,"px-4","py-2","text-white","rounded",3,"ngClass"],["class","mt-6 p-4 bg-gray-50 rounded shadow",4,"ngFor","ngForOf"],[1,"mt-6","p-4","bg-gray-50","rounded","shadow"],[1,"text-gray-600"]],template:function(r,n){r&1&&(t(0,"div")(1,"h2",0),s(2,"Announcements"),o(),t(3,"form",1),u("ngSubmit",function(){return n.addAnnouncement()}),t(4,"div")(5,"label",2),s(6,"Message"),o(),t(7,"textarea",3),h("ngModelChange",function(m){return b(n.description,m)||(n.description=m),m}),o()(),t(8,"button",4),s(9," Make an announcement "),o()(),g(10,ee,3,1,"div",5),o()),r&2&&(a(7),f("ngModel",n.description),a(),l("ngClass",q(3,$,n.description,!n.description)),a(2),l("ngForOf",n.announcements))},dependencies:[R,B,A,v,T,M,N,w,x],encapsulation:2})}}return e})();function te(e,p){e&1&&k(0,"app-announcements-tab")}function oe(e,p){e&1&&k(0,"app-sms-tab")}var J=(()=>{class e{constructor(){this.currentTab="announcements"}setTab(i){this.currentTab=i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=d({type:e,selectors:[["app-announcements"]],standalone:!1,decls:10,vars:10,consts:[[1,"min-h-screen","bg-gray-100"],[1,"max-w-4xl","mx-auto","pt-10"],[1,"flex","justify-center","mb-6"],[1,"px-4","py-2","text-white","bg-blue-500","rounded-l-md","hover:bg-blue-600","focus:outline-none",3,"click"],[1,"px-4","py-2","text-white","bg-blue-500","rounded-r-md","hover:bg-blue-600","focus:outline-none",3,"click"],[1,"bg-white","p-6","rounded","shadow"],[4,"ngIf"]],template:function(r,n){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u("click",function(){return n.setTab("announcements")}),s(4," Announcements "),o(),t(5,"button",4),u("click",function(){return n.setTab("sms")}),s(6," Send SMS "),o()(),t(7,"div",5),g(8,te,1,0,"app-announcements-tab",6)(9,oe,1,0,"app-sms-tab",6),o()()()),r&2&&(a(3),I("bg-gray-200",n.currentTab!=="announcements")("text-gray-600",n.currentTab!=="announcements"),a(2),I("bg-gray-200",n.currentTab!=="sms")("text-gray-600",n.currentTab!=="sms"),a(3),l("ngIf",n.currentTab==="announcements"),a(),l("ngIf",n.currentTab==="sms"))},dependencies:[C,z,H],encapsulation:2})}}return e})();var ie=[{path:"",component:J}],K=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=_({type:e})}static{this.\u0275inj=y({imports:[D.forChild(ie),D]})}}return e})();var _e=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=_({type:e})}static{this.\u0275inj=y({imports:[K,L,O]})}}return e})();export{_e as AnnouncementsModule};
